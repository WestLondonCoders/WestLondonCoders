- set_page_title(@user.name || "Profile")

- if can? :manage, @user
  %section.a-section.u-margin-top--mobile
    .a-content.u-center
      = link_to "Edit profile", edit_user_path(@user), class: 'a-button  a-button--edit'

.m-profile
  %section.a-section
    .a-content
      = render partial: 'shared/user_strip', locals: { user: @user, show_logo: true }

      .m-profile__bio
        = sanitize @user.bio

  = render partial: 'language_list'

  - if @user.interests.any?
    %section.a-section
      .a-content
        %h2
          Interests
          - if can? :edit, @user
            %a.m-profile__pencil{href: edit_interests_path(@user)}
              %i.a-icon-after-text.fa.fa-pencil
          - if @user.interests.any?
            .a-tags
              - @user.interests.each do |interest|
                %h2.a-tag.a-tag--interest= interest.name

  = render partial: 'hackrooms', locals: { user: @user }

  = render partial: 'meetups', locals: { user: @user } if current_user&.has_role?(:organiser)

  - if can? :edit, @user
    .u-center
      - if @user.interests.empty?
        .m-profile__add-interests
          %a.a-button--pink.a-tag.a-tag--interest{href: edit_interests_path(@user)} Add some interests

  - if @posts.any?
    %section.a-section
      .a-content--xwide
        %h2.u-center My posts
        .m-grid
          - @posts.take(6).each do |post|
            = render partial: 'shared/posts', locals: {post: post}

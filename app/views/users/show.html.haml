- set_page_title(@user.name || "Profile")

.m-profile
  %section.a-section
    .a-content.m-profile__header
      = image_tag(avatar_url(@user), class: 'm-profile__image')
      .m-profile__header-text
        %h1.m-profile__name.black-link
          = @user.name

        %h3.m-profile__title.black-link
          = @user.job_title

  - if @user.bio
    %section.a-section
      .a-content.m-profile__bio
        = @user.bio

  - if @user.has_social_links?
    %section.a-section
      .a-content.m-profile__details
        .m-profile__links.black-link
          - if @user.twitter.present?
            = social_url(@user.twitter, :twitter)
          - if @user.instagram.present?
            = social_url(@user.instagram, :instagram)
          - if @user.github.present?
            = social_url(@user.github, :github)
          - if @user.facebook.present?
            = link_to "https://facebook.com/#{@user.facebook}", target: '_blank' do
              %i.fa.fa-facebook-official
          - if @user.linkedin.present?
            = link_to "https://linkedin.com/in/#{@user.linkedin}", target: '_blank' do
              %i.fa.fa-linkedin
          - if @user.website_url.present?
            = link_to "http://#{@user.website_url}", target: '_blank' do
              %i.fa.fa-link

  - if @user.interests.any?
    %section.a-section
      .a-content.black-link
        %h1
          Interests
          - if admin_or_current_user?
            %a.m-profile__pencil{href: edit_interests_path(@user)}
              %i.a-icon-after-text.fa.fa-pencil
          - if @user.interests.any?
            .a-tags
              - @user.interests.each do |interest|
                %h2.a-tag.a-tag--interest= interest.name

  - if @user.skills.any?
    %section.a-section
      .a-content.black-link
        %h1
          Skills
          - if admin_or_current_user?
            %a.m-profile__pencil{href: edit_skills_path(@user)}
              %i.a-icon-after-text.fa.fa-pencil

          .a-tags
            - @user.skills.each do |skill|
              %h2.a-tag.a-tag--skill= skill.name

  - if admin_or_current_user?
    .u-center
      - if @user.interests.empty?
        .m-profile__add-interests
          %a.a-tag.a-tag--interest{href: edit_interests_path(@user)} Add some interests
      - if @user.skills.empty?
        .m-profile__add-skills
          %a.a-tag.a-tag--skill{href: edit_skills_path(@user)} Add some skills

  %section.a-section
    .a-content
      .m-blog
        %h1 Posts
        - @posts.each do |post|
          = render partial: 'shared/posts', locals: {post: post}

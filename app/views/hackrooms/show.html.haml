- set_page_title(@hackroom.name + " hackroom")

.u-margin-top--desktop

.a-page-holder

  - if can? :manage, @hackroom
    %section.a-section.u-margin-top--mobile
      .a-content.u-center
        = link_to "Edit hackroom", edit_hackroom_path(@hackroom), class: "a-button a-button--edit"

  %section.a-section
    .a-content
      .m-hackroom__links.u-float-right
        - if @hackroom.slack.present?
          = link_to "https://westlondoncoders.slack.com/archives/#{@hackroom.slack}", target: "_blank" do
            %i.fa.fa-slack

      %h1.a-heading.centered.a-paint-border-bottom{class: ("a-paint-border-bottom--#{@hackroom.primary_languages&.first&.id}")}
        = @hackroom.name

      .m-hackroom__mission
        = sanitize(@hackroom.mission)

      = render partial: 'language_list', locals: { hackroom: @hackroom }

      .a-content
        - if @hackroom.owners.any?
          %h2 Maintainers
          .m-hackroom__members
            - @hackroom.owners.each do |user|
              = render partial: 'shared/user_tag', locals: { user: user }

      .a-content
        - if @hackroom.users.any?
          %h2 Members
          .m-hackroom__members
            - @hackroom.users.each do |user|
              = render partial: 'shared/user_tag', locals: { user: user }

      - if current_user
        .u-margin-top.u-float-right
          - if user_in_hackroom?(@hackroom, current_user)
            = link_to 'Leave hackroom', join_hackroom_path, class: 'a-button'
          - else
            = link_to 'Join hackroom', join_hackroom_path, class: 'a-button'
